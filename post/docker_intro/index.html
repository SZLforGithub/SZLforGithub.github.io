<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Docker🐳 - 簡介 (1/2) | Louis&#39;s blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.72.0" />
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/dist/css/custom.css">
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
    integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

    
      <script src="/dist/js/custom.js"></script>
    

    
      
<link rel="shortcut icon" href="/images/icon.png" type="image/x-icon" />


    

    

    <link rel="stylesheet" href="/prism.css"/>
    <script src="/prism.js"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-169325906-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'UA-169325906-1');
    </script>

    <meta property="og:title" content="Docker🐳 - 簡介 (1/2)" />
<meta property="og:description" content="偷懶了很久終於願意寫的 Docker 筆記" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://szlforgithub.github.io/post/docker_intro/" />
<meta property="og:image" content="https://szlforgithub.github.io/images/docker-banner.jpeg" />
<meta property="article:published_time" content="2022-05-24T19:34:43+08:00" />
<meta property="article:modified_time" content="2022-05-24T19:34:43+08:00" />
<meta itemprop="name" content="Docker🐳 - 簡介 (1/2)">
<meta itemprop="description" content="偷懶了很久終於願意寫的 Docker 筆記">
<meta itemprop="datePublished" content="2022-05-24T19:34:43&#43;08:00" />
<meta itemprop="dateModified" content="2022-05-24T19:34:43&#43;08:00" />
<meta itemprop="wordCount" content="1323">
<meta itemprop="image" content="https://szlforgithub.github.io/images/docker-banner.jpeg">



<meta itemprop="keywords" content="學習筆記,backend,心得分享," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://szlforgithub.github.io/images/docker-banner.jpeg"/>

<meta name="twitter:title" content="Docker🐳 - 簡介 (1/2)"/>
<meta name="twitter:description" content="偷懶了很久終於願意寫的 Docker 筆記"/>

      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-169325906-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
	
  </head>

  <body class="ma0 sans-serif">

    



  
  
  <header class="cover bg-top" style="background-image: url('https://szlforgithub.github.io/images/docker-banner.jpeg');">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib" style="font-family: oswald; font-weight:bold;">
      
        Louis&#39;s blog
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title=" page">
              
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    <div class="pb3-m pb6-l bg-black-60">
      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Docker🐳 - 簡介 (1/2)</h1>
          
            <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
              偷懶了很久終於願意寫的 Docker 筆記
            </h2>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      

<article class="flex-l flex-wrap justify-between mw8 center ph3">
  <header class="mt4 w-100">
    

    



    <h1 class="f1 athelas mt3 mb1">Docker🐳 - 簡介 (1/2)</h1>
    
    
    <time class="f6 mv4 dib tracked" datetime=" 2022-05-24T19:34:43&#43;08:00">2022-05-24 19:34:43</time>

    
    
    <span class="f6 mv4 dib tracked"> - 3 minutes read</span>
    <span class="f6 mv4 dib tracked"> - 1323 words</span>
    
  </header>
  <div class="nested-copy-line-height lh-copy serif f4 nested-links
    nested-img mid-gray pr4-l w-two-thirds-l"><h2 id="前言">前言</h2>
<p>這篇是從一個每月固定舉辦的分享會簡報整理過來的，紀錄了自己從 <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">初學 Docker</code> -&gt; <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">實際使用別人的容器</code> -&gt; <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">自己做容器給別人用</code> 的心路歷程。</p>
<p>如果你是了解在沒有 Docker 的情況下如何開發部署的工程師的話，這篇會非常適合你(因為我就是)，當然，完全是小白也沒問題。</p>
<p>Ok. Let&rsquo; do it!</p>
<h2 id="簡介">簡介</h2>
<p>Docker 是一個開源、標準化、虛擬化的軟體工具，使用者可以透過 API 操作指令來建置、執行、部署容器(Container)。</p>
<p>Docker 想解決的是傳統系統中 <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">環境難以保持一致性</code> 與 <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">難以遷移</code>，透過容器隔離出獨立的執行空間，並將應用程式與執行環境共同打包的方式，解決「在我的機器上沒問題啊」的問題。</p>
<p><img src="https://i.imgur.com/llo6WES.png" alt=""></p>
<h2 id="演進">演進</h2>
<p>在學習一項技術時，知道它的演進脈絡會更有助於理解我們為什麼需要它，所以在進入 Docker 之前，我們先聊聊在沒有 Docker 的時候，Infrastructure 是怎麼運作的：</p>
<blockquote>
<p>以下皆為去脈絡化的簡易架構，僅提供說明，並不適用任何專案架構。</p>
</blockquote>
<h3 id="在沒有-docker-的蠻荒時代">在沒有 Docker 的蠻荒時代</h3>
<p><img src="https://i.imgur.com/qyMuYXV.png" alt=""></p>
<p>一個非常簡(ㄙㄨㄟˊ)單(ㄅㄧㄢˋ)的架構圖，專注在 Backend 的部份，可以想像我們會有一台 Web Server (如 Nginx、Apache 等)，它會把流量導進 Application (如 Laravel、Gin 等)，然後或許會有跟 Database (如 MySQL、PostgreSQL 等) 的互動，以上就是一個傳統的單體式應用程式(Monolithic application) 的長相。</p>
<p>接著如果有一顆隕石打過來，我們可能需要把整個 Service 從自架主機移動到雲端，或者要更換雲端主機的平台，要做 <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">遷移</code> 這件事時，我們會需要考慮：</p>
<ul>
<li>語言環境的設定？
<ul>
<li>PHP5? PHP7?</li>
</ul>
</li>
<li>Web Server 上的設定檔與套件？
<ul>
<li>nginx.conf and Nginx Module?</li>
</ul>
</li>
<li>Database 的版本？
<ul>
<li>MySQL 5.7? MySQL 8.0?</li>
</ul>
</li>
<li>加班會按照勞基法給薪給假嗎？
<ul>
<li>週六週日哪一天是例日？哪一天是假日？給不給特休？</li>
</ul>
</li>
</ul>
<p>以上這些東西，除了最後一項是 HR 負責，其他幾項都需要一項一項排查，然後在新環境中一項一項安排好，然後跑跑看 Service 起不起得來？跑起來後功能是不是都正常？會不會有個外掛套件沒裝到，然後剛好沒寫測試或是測試沒覆蓋到？</p>
<p>先不談 scale out，光是遷移本身就是一個讓人非常煩躁的工程了。</p>
<p>那麼容器化可以拯救我們的加班時間嗎？</p>
<h3 id="docker-的文明之火">Docker 的文明之火</h3>
<p><img src="https://i.imgur.com/NkSdWSI.png" alt=""></p>
<p>這張圖其實有些問題，不過姑且先這樣理解吧。</p>
<p>我們將個別的服務包在容器裡面，形成各自獨立的執行個體，彼此之間藉由 docker network 互相溝通，這樣可以帶來幾項好處：</p>
<ul>
<li>將所有的版本、套件、設定檔都封裝在容器中，實現良好的可遷移性，替未來的可擴充的架構、微服務、Serverless 等打下基礎</li>
<li>所有容器皆可透過指令(或者是 Dockerfile or docker compose) 來操作，替後續自動化的持續整合與持續部署 (CI/CD) 打下基礎</li>
</ul>
<p>以上就是有沒有使用容器化技術比較簡單的比較，兩相比較之下，應該可以比較理解 Docker 所說的 <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">Build and Ship any Application Anywhere</code> 是什麼意思。</p>
<p>這時候比較有 sense 的讀者可能已經想到另一個隔離的技術，沒錯，就是 Virtual Machines，所以接下來我們再多聊聊兩者的差異。</p>
<h3 id="docker-vs-virtual-machines-vms">Docker vs Virtual Machines (VMs)</h3>
<p>Docker 和 VM 都是虛擬化的技術，差別在於對 OS 的使用方式不同。</p>
<h4 id="virtual-machines-vms">Virtual Machines (VMs)</h4>
<p><img src="https://i.imgur.com/3bomg57.png" alt=""></p>
<p>VM 需要藉由 Hypervisor 來模擬出軟體、韌體、硬體，並且在原有的 OS (Host OS) 上實際安裝一套新的作業系統 (Guest OS)。</p>
<h4 id="docker">Docker</h4>
<p><img src="https://i.imgur.com/ynvL53C.png" alt=""></p>
<p>Docker 則是直接運行在原有的 OS (Host OS) 上，Container 中的環境 Base on kernel of Host OS，並利用 Linux 的 namespace 功能隔離資源。</p>
<p>相較於 VM 省去了等待 Guest OS 開機的時間，所以更輕量化，執行與啟動的時間也更快。</p>
<h2 id="小結">小結</h2>
<p>有點太長了，我想去吃宵夜了，分成兩篇好了，第一篇我們介紹了 Docker 的前世今生，Docker 的實際操作就留給下一篇吧！</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">學習筆記</a>
   </li>
  
   <li class="list">
     <a href="/tags/backend" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">backend</a>
   </li>
  
   <li class="list">
     <a href="/tags/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">心得分享</a>
   </li>
  
</ul>
<script src="https://utteranc.es/client.js" repo="SZLforGithub/comment-utterances" issue-term="pathname"
      theme="github-light" crossorigin="anonymous" async></script>
  </div>

  <aside class="w-30-l mt6-l">
    









<div class="toc">

    <div class="page-header"><strong>目錄</strong></div>

    <div id="page-scrollspy" class="toc-nav">

        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%89%8d%e8%a8%80">
                            前言
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e7%b0%a1%e4%bb%8b">
                            簡介
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e6%bc%94%e9%80%b2">
                            演進
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%9c%a8%e6%b2%92%e6%9c%89-docker-%e7%9a%84%e8%a0%bb%e8%8d%92%e6%99%82%e4%bb%a3">
                            在沒有 Docker 的蠻荒時代
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker-%e7%9a%84%e6%96%87%e6%98%8e%e4%b9%8b%e7%81%ab">
                            Docker 的文明之火
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker-vs-virtual-machines-vms">
                            Docker vs Virtual Machines (VMs)
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#virtual-machines-vms">
                            Virtual Machines (VMs)
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker">
                            Docker
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%b0%8f%e7%b5%90">
                            小結
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        

    </div>

</div>







  

</aside>
</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://szlforgithub.github.io/" >
    &copy;  Louis's blog 2023 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>
  <script type="text/javascript" color="0,0,0" opacity="0.5" pointColor="0,100,0" count="30" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>


  </body>
</html>
