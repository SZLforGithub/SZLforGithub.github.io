<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>DockerğŸ³ - ä½¿ç”¨ (2/2) | Louis&#39;s blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.72.0" />
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/dist/css/custom.css">
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
    integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

    
      <script src="/dist/js/custom.js"></script>
    

    
      
<link rel="shortcut icon" href="/images/icon.png" type="image/x-icon" />


    

    

    <link rel="stylesheet" href="/prism.css"/>
    <script src="/prism.js"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-169325906-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'UA-169325906-1');
    </script>

    <meta property="og:title" content="DockerğŸ³ - ä½¿ç”¨ (2/2)" />
<meta property="og:description" content="å·æ‡¶äº†å¾ˆä¹…çµ‚æ–¼é¡˜æ„å¯«çš„ Docker ç­†è¨˜" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://szlforgithub.github.io/post/docker_use/" />
<meta property="og:image" content="https://szlforgithub.github.io/images/docker-banner.jpeg" />
<meta property="article:published_time" content="2022-05-24T22:11:33+08:00" />
<meta property="article:modified_time" content="2022-05-24T22:11:33+08:00" />
<meta itemprop="name" content="DockerğŸ³ - ä½¿ç”¨ (2/2)">
<meta itemprop="description" content="å·æ‡¶äº†å¾ˆä¹…çµ‚æ–¼é¡˜æ„å¯«çš„ Docker ç­†è¨˜">
<meta itemprop="datePublished" content="2022-05-24T22:11:33&#43;08:00" />
<meta itemprop="dateModified" content="2022-05-24T22:11:33&#43;08:00" />
<meta itemprop="wordCount" content="1601">
<meta itemprop="image" content="https://szlforgithub.github.io/images/docker-banner.jpeg">



<meta itemprop="keywords" content="å­¸ç¿’ç­†è¨˜,backend,å¿ƒå¾—åˆ†äº«," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://szlforgithub.github.io/images/docker-banner.jpeg"/>

<meta name="twitter:title" content="DockerğŸ³ - ä½¿ç”¨ (2/2)"/>
<meta name="twitter:description" content="å·æ‡¶äº†å¾ˆä¹…çµ‚æ–¼é¡˜æ„å¯«çš„ Docker ç­†è¨˜"/>

      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-169325906-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
	
  </head>

  <body class="ma0 sans-serif">

    



  
  
  <header class="cover bg-top" style="background-image: url('https://szlforgithub.github.io/images/docker-banner.jpeg');">
    <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib" style="font-family: oswald; font-weight:bold;">
      
        Louis&#39;s blog
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/archives/" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title=" page">
              
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

    <div class="pb3-m pb6-l bg-black-60">
      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">DockerğŸ³ - ä½¿ç”¨ (2/2)</h1>
          
            <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
              å·æ‡¶äº†å¾ˆä¹…çµ‚æ–¼é¡˜æ„å¯«çš„ Docker ç­†è¨˜
            </h2>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      

<article class="flex-l flex-wrap justify-between mw8 center ph3">
  <header class="mt4 w-100">
    

    



    <h1 class="f1 athelas mt3 mb1">DockerğŸ³ - ä½¿ç”¨ (2/2)</h1>
    
    
    <time class="f6 mv4 dib tracked" datetime=" 2022-05-24T22:11:33&#43;08:00">2022-05-24 22:11:33</time>

    
    
    <span class="f6 mv4 dib tracked"> - 4 minutes read</span>
    <span class="f6 mv4 dib tracked"> - 1601 words</span>
    
  </header>
  <div class="nested-copy-line-height lh-copy serif f4 nested-links
    nested-img mid-gray pr4-l w-two-thirds-l"><h2 id="å‰è¨€">å‰è¨€</h2>
<p>é€™ç¯‡æ˜¯å¾ä¸€å€‹æ¯æœˆå›ºå®šèˆ‰è¾¦çš„åˆ†äº«æœƒç°¡å ±æ•´ç†éä¾†çš„ï¼Œç´€éŒ„äº†è‡ªå·±å¾ <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">åˆå­¸ Docker</code> -&gt; <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">å¯¦éš›ä½¿ç”¨åˆ¥äººçš„å®¹å™¨</code> -&gt; <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">è‡ªå·±åšå®¹å™¨çµ¦åˆ¥äººç”¨</code> çš„å¿ƒè·¯æ­·ç¨‹ã€‚</p>
<p>é€™æ˜¯ç¬¬äºŒç¯‡ï¼Œé‚„æ²’çœ‹éå‰ç¯‡çš„ï¼Œ<a href="https://szlforgithub.github.io/post/docker_intro">è«‹å¾€é€™è£¡èµ°</a>ã€‚</p>
<p>åœ¨å‰ä¸€ç¯‡ï¼Œæˆ‘å€‘èŠçš„æ˜¯ Docker çš„ç°¡ä»‹ï¼Œé€™ä¸€ç¯‡æˆ‘å€‘æœƒè‘—é‡åœ¨ Docker çš„ä½¿ç”¨ä¸Šã€‚</p>
<p>èµ°èµ·ï¼</p>
<h2 id="docker-ä¸‰å¤§å…ƒç´ ">Docker ä¸‰å¤§å…ƒç´ </h2>
<p>Docker æœ‰ä¸€äº›åŸºæœ¬çš„è§€å¿µå’Œä½¿ç”¨çš„å…ƒä»¶ï¼Œä¸»è¦å¯ä»¥åˆ†ç‚º <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">Image</code>ã€ <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">Container</code>ã€ <code style="font-size: 85%; background-color: rgba(0,0,0); border-radius: 3px; word-wrap: break-word; color: white; padding: 3px;">Registry</code> é€™ä¸‰ç¨®ï¼Œä»¥ä¸‹æˆ‘å€‘ä¸€å€‹ä¸€å€‹ä»‹ç´¹ï¼š</p>
<h3 id="image-é¡åƒ">Image (é¡åƒ)</h3>
<p>Image æ˜¯ä¸€å€‹å”¯è®€çš„æ¨¡æ¿ï¼Œç”±ä¸€çµ„ç”¨æ–¼å‰µå»º Container çš„æŒ‡ä»¤çµ„æˆï¼Œç”±ä¸€å±¤ä¸€å±¤çš„ Layer å †ç–Šè€Œæˆï¼š</p>
<p><img src="https://i.imgur.com/KDGhvIN.gif" alt=""></p>
<blockquote>
<p>Reference: <a href="https://www.youtube.com/watch?v=8vXoMqWgbQQ">https://www.youtube.com/watch?v=8vXoMqWgbQQ</a></p>
</blockquote>
<h3 id="container">Container</h3>
<p>Container æ˜¯æ ¹æ“š Image çš„å®šç¾©å‰µå»ºçš„å¯åŸ·è¡Œå€‹é«”ï¼Œå¯ä»¥æƒ³åƒ Image å…§ä¸€å±¤ä¸€å±¤çš„ Layer æœƒä¾åºåŸ·è¡Œï¼Œæœ€å¾Œæˆç‚ºæˆ‘å€‘çš„ Containerã€‚</p>
<p>Container å…§åŒ…å«äº†ç¨‹å¼ç¢¼æœ¬èº«èˆ‡æ‰€æœ‰åŸ·è¡Œæ‰€éœ€çš„ä¾è³´é …ï¼ŒåŸ·è¡Œæ™‚ç›¸ç•¶æ–¼åœ¨ Image ä¸Šæ–°å¢ä¸€å€‹å¯å¯«çš„å­˜å„²å±¤ï¼Œç”Ÿå‘½é€±æœŸçµæŸå¾Œæ¸…ç©ºã€‚</p>
<p><img src="https://i.imgur.com/2DU6Bcf.png" alt=""></p>
<h3 id="registry">Registry</h3>
<p>ç”¨æ–¼å­˜æ”¾ Imagesï¼Œå¯å¾ Registry pull or push Imagesï¼Œç›¸ç•¶æ–¼é–‹æºç¨‹å¼ç¢¼ä¸­ Github çš„è§’è‰²ï¼Œåœ¨å®¹å™¨ä¸­æœ€å¸¸ç”¨çš„æ˜¯ <a href="https://hub.docker.com/">Dockerhub</a></p>
<h2 id="ä½¿ç”¨æµç¨‹">ä½¿ç”¨æµç¨‹</h2>
<p>æœ‰äº†é€™ä¸‰å¤§å…ƒç´ ï¼Œå°±å¯ä»¥æœ‰ä¸€å€‹ç°¡å–®çš„å®¹å™¨ä½¿ç”¨æµç¨‹äº†ï¼šDeveloper å¾ Registry ä¸Š pull Imagesï¼Œæ¥è‘—é–‹å§‹åšä¸€äº› Custom Layerï¼Œæœ€å¾Œ Run æˆæˆ‘å€‘å°ˆæ¡ˆéœ€è¦çš„ Containerï¼š</p>
<p><img src="https://i.imgur.com/AnAsqBe.png" alt=""></p>
<h2 id="dockerfile">Dockerfile</h2>
<h3 id="å¦‚æœæ²’æœ‰-dockerfile">å¦‚æœæ²’æœ‰ Dockerfile</h3>
<p>æ¥è‘—æˆ‘å€‘è¦é€²å…¥ Dockerfile é€™å€‹å·¥å…·çš„ä»‹ç´¹ï¼Œè€æ¨£å­ï¼Œåœ¨ä»‹ç´¹ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆçœ‹çœ‹å¦‚æœæ²’æœ‰ Dockerfileï¼Œæˆ‘å€‘æ˜¯æ€éº¼ä½¿ç”¨ Docker çš„ï¼š</p>
<ol>
<li>æœå°‹æˆ‘æƒ³è¦çš„ Docker Image</li>
<li>Pull Image</li>
<li>å•Ÿå‹•ä¸¦é€²å…¥ Container</li>
<li>å®‰è£ç›¸é—œç’°å¢ƒ</li>
</ol>
<p>è½‰æ›æˆæŒ‡ä»¤çš„è©±å°±æ˜¯ï¼š</p>
<ol>
<li>docker search php -f is-official=true</li>
<li>docker pull php</li>
<li>docker run -ti php /bin/bash</li>
<li>maybe apt-get or other command in linux</li>
</ol>
<p>é€™ç¨®åšæ³•å¦‚æœé‡åˆ°äº†é€™æ¨£çš„æƒ…å¢ƒï¼š</p>
<pre><code>æ¬¸æ¬¸ä½ é‚£å€‹ image æ€éº¼å»ºçš„ï¼Œæˆ‘æƒ³è¦èµ·ä¸€å°æ¸¬è©¦æ©Ÿ  
æ¬¸æ¬¸ä½ é‚£å€‹ image æ€éº¼å»ºçš„ï¼Œæˆ‘æƒ³è¦æ›åˆ°å¦ä¸€å°æ©Ÿå™¨  
æ¬¸æ¬¸ä½ é‚£å€‹ image æ€éº¼å»ºçš„ï¼Œæˆ‘æƒ³è¦ blablabla ...  
</code></pre><p>æˆ‘å€‘éœ€è¦ä¸€å€‹å·¥å…·ä¾†è®“é€™äº›åªæœƒä¼¸æ‰‹çš„å‚¢ä¼™é–‰å˜´ï¼Œæ‰€ä»¥ Dockerfile å°±æ‡‰é‹è€Œç”Ÿäº†ã€‚</p>
<h3 id="dockerfile-å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘">Dockerfile å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘</h3>
<p>Dockerfile æ˜¯ä¸€å€‹ç´”æ–‡å­—æª”ï¼ŒåŒ…å«äº†ä¸€é€£ä¸²çš„æŒ‡ä»¤ï¼Œå¯ä»¥å°æ‡‰åˆ° Image ä¸­ä»‹ç´¹çš„ Layerã€‚åŸ·è¡Œ docker run æ™‚æœƒæ ¹æ“š Dockerfile ä¸­çš„æŒ‡ä»¤ build å‡º imageã€‚</p>
<p>ä»¥ä¸Šçš„ä½¿ç”¨æµç¨‹å°±å¯ä»¥ç°¡åŒ–ç‚ºä»¥ä¸‹çš„ Dockerfileï¼š<br>
ä¸€å€‹ç›¸å°ç°¡å–®çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> php:7.4-cli</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> . /usr/src/myapp<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">WORKDIR</span><span style="color:#e6db74"> /usr/src/myapp</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">CMD</span> [ <span style="color:#e6db74">&#34;php&#34;</span>, <span style="color:#e6db74">&#34;./your-script.php&#34;</span> ]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>ä¸€å€‹ä¾†è‡ª <a href="https://hub.docker.com/_/php">Dockerhub php image å®˜æ–¹æ–‡ä»¶</a> çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> php:7.4-fpm</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get update <span style="color:#f92672">&amp;&amp;</span> apt-get install -y <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        libfreetype6-dev <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        libjpeg62-turbo-dev <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        libpng-dev <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    <span style="color:#f92672">&amp;&amp;</span> docker-php-ext-configure gd --with-freetype --with-jpeg <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    <span style="color:#f92672">&amp;&amp;</span> docker-php-ext-install -j<span style="color:#66d9ef">$(</span>nproc<span style="color:#66d9ef">)</span> gd<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>æœ‰äº†é€™æ¨£çš„å·¥å…·ï¼Œç•¶åˆ¥äººåˆé–‹å§‹åœ¨æ¬¸æ¬¸æˆ‘æƒ³å¹¹å˜›å¹¹å˜›çš„æ™‚å€™ï¼Œæˆ‘å€‘åæ‰‹ä¸€å€‹ Dockerfile ç”©åœ¨ä»–è‡‰ä¸Šå°±å¯ä»¥å®Œç¾è§£æ±ºå•é¡Œã€‚</p>
<h2 id="docker-compose">docker compose</h2>
<h3 id="å¦‚æœæ²’æœ‰-docker-compose">å¦‚æœæ²’æœ‰ docker compose</h3>
<p>æˆ‘å€‘å¯èƒ½æœƒéœ€è¦åœ¨åŒä¸€å€‹å®¹å™¨å…§å®‰è£èªè¨€ç’°å¢ƒã€è³‡æ–™åº«ã€web serverâ€¦ ç­‰ï¼Œä½†é€™ç¨®åšæ³•æ˜¯<a href="https://docs.docker.com/config/containers/multi-service_container">å¯è¡Œä½†ä¸è¢«æ¨è–¦çš„</a>ï¼Œå› ç‚ºé‚£ç›¸ç•¶æ–¼æŠŠ Docker ç•¶æˆ VM ä½¿ç”¨ã€‚</p>
<blockquote>
<p>Itâ€™s ok to have multiple processes, but to get the most benefit out of Docker, avoid one container being responsible for multiple aspects of your overall application. You can connect multiple containers using user-defined networks and shared volumes.</p>
</blockquote>
<p>æ‰€ä»¥æˆ‘å€‘å‹¢å¿…å¾—è®“ä¸€å€‹ Service å°æ‡‰åˆ°ä¸€å€‹ Containerï¼Œä¹Ÿå°±æ˜¯æœƒæœ‰å¤šå€‹å®¹å™¨ã€å¤šå€‹ dockerfileã€å¤šè¡ŒæŒ‡ä»¤ï¼Œä¸¦ä¸”åœ¨æ¯ä¸€è¡ŒæŒ‡ä»¤ä¸­å®šç¾© portã€DB å¸³è™Ÿå¯†ç¢¼ã€volume local fileâ€¦ ç­‰ã€‚</p>
<p>é€™å…‰è½å°±å¾ˆè ¢ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦ä¸€å€‹å·¥å…·ä¾†è®“è‡ªå·±ä¸ç”¨å¹¹è ¢äº‹ã€‚</p>
<h3 id="docker-compose-å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘">docker compose å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘</h3>
<p>docker compose æ˜¯ç‚ºäº†å®šç¾©å’Œå…±ç”¨å¤šå®¹å™¨æ‡‰ç”¨ç¨‹å¼è€Œé–‹ç™¼çš„å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨å–®ä¸€å‘½ä»¤ï¼Œæ§åˆ¶æ•´å€‹å°ˆæ¡ˆçš„æ‰€æœ‰å®¹å™¨ã€‚</p>
<p>å°‡ docker compose ä¿ç•™åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œå…¶ä»–äººå¯ä»¥é€éç°¡å–®çš„æŒ‡ä»¤å•Ÿå‹•ä¸¦åƒèˆ‡å°ˆæ¡ˆï¼Œé€™ä¹Ÿæ˜¯é–‹æºå°ˆæ¡ˆä¸­å¾ˆå¸¸è¦‹çš„è§£æ±ºæ–¹æ¡ˆï¼Œå¾ˆæœ‰æ•ˆçš„é¿å…çš„ä¸åŒç’°å¢ƒçš„å•é¡Œå’Œå»ºç½®ç’°å¢ƒçš„å†—ä½™æ™‚é–“ã€‚</p>
<p>é€™é‚Šé‚„æ˜¯æä¾›ä¸€å€‹ä¾‹å­ï¼Œä¾†æºè‡ª PHP framework - Laravel çš„ sailï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># For more information: https://laravel.com/docs/sail</span>
<span style="color:#66d9ef">version</span>: <span style="color:#e6db74">&#39;3&#39;</span>
<span style="color:#66d9ef">services</span>:
    <span style="color:#66d9ef">laravel.test</span>:
        <span style="color:#66d9ef">build</span>:
            <span style="color:#66d9ef">context</span>: ./vendor/laravel/sail/runtimes/<span style="color:#ae81ff">8.0</span>
            <span style="color:#66d9ef">dockerfile</span>: Dockerfile
            <span style="color:#66d9ef">args</span>:
                <span style="color:#66d9ef">WWWGROUP</span>: <span style="color:#e6db74">&#39;${WWWGROUP}&#39;</span>
        <span style="color:#66d9ef">image</span>: sail<span style="color:#ae81ff">-8.0</span>/app
        <span style="color:#66d9ef">ports</span>:
            - <span style="color:#e6db74">&#39;${APP_PORT:-80}:80&#39;</span>
        <span style="color:#66d9ef">environment</span>:
            <span style="color:#66d9ef">WWWUSER</span>: <span style="color:#e6db74">&#39;${WWWUSER}&#39;</span>
            <span style="color:#66d9ef">LARAVEL_SAIL</span>: <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">volumes</span>:
            - <span style="color:#e6db74">&#39;.:/var/www/html&#39;</span>
        <span style="color:#66d9ef">networks</span>:
            - sail
        <span style="color:#66d9ef">depends_on</span>:
            - mysql
    <span style="color:#66d9ef">mysql</span>:
        <span style="color:#66d9ef">image</span>: <span style="color:#e6db74">&#39;mysql:8.0&#39;</span>
        <span style="color:#66d9ef">ports</span>:
            - <span style="color:#e6db74">&#39;${FORWARD_DB_PORT:-3306}:3306&#39;</span>
        <span style="color:#66d9ef">environment</span>:
            <span style="color:#66d9ef">MYSQL_ROOT_PASSWORD</span>: <span style="color:#e6db74">&#39;${DB_PASSWORD}&#39;</span>
            <span style="color:#66d9ef">MYSQL_DATABASE</span>: <span style="color:#e6db74">&#39;${DB_DATABASE}&#39;</span>
            <span style="color:#66d9ef">MYSQL_USER</span>: <span style="color:#e6db74">&#39;${DB_USERNAME}&#39;</span>
            <span style="color:#66d9ef">MYSQL_PASSWORD</span>: <span style="color:#e6db74">&#39;${DB_PASSWORD}&#39;</span>
            <span style="color:#66d9ef">MYSQL_ALLOW_EMPTY_PASSWORD</span>: <span style="color:#e6db74">&#39;yes&#39;</span>
        <span style="color:#66d9ef">volumes</span>:
            - <span style="color:#e6db74">&#39;sailmysql:/var/lib/mysql&#39;</span>
        <span style="color:#66d9ef">networks</span>:
            - sail
        <span style="color:#66d9ef">healthcheck</span>:
          <span style="color:#66d9ef">test</span>: [<span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;mysqladmin&#34;</span>, <span style="color:#e6db74">&#34;ping&#34;</span>, <span style="color:#e6db74">&#34;-p${DB_PASSWORD}&#34;</span>]
          <span style="color:#66d9ef">retries</span>: <span style="color:#ae81ff">3</span>
          <span style="color:#66d9ef">timeout</span>: 5s
<span style="color:#66d9ef">networks</span>:
    <span style="color:#66d9ef">sail</span>:
        <span style="color:#66d9ef">driver</span>: bridge
<span style="color:#66d9ef">volumes</span>:
    <span style="color:#66d9ef">sailmysql</span>:
        <span style="color:#66d9ef">driver</span>: local
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘åœ¨è£¡é¢å®šç¾©äº†å…©å€‹ serviceï¼Œä¸¦å°ä¸åŒçš„ service éƒ½æœ‰ä¸åŒçš„ imageã€portsã€environmentã€volumesã€networks ç­‰ç­‰çš„è¨­å®šï¼Œä¸€å€‹æŒ‡ä»¤å¯ä»¥ run å¤šå€‹ serviceï¼Œå®Œç¾è§£æ±ºæˆ‘å€‘åŸæœ¬æ“”å¿ƒçš„å•é¡Œã€‚</p>
<h2 id="å°çµ">å°çµ</h2>
<p>é€™ç¯‡æˆ‘å€‘ç°¡å–®çš„éäº†ä¸€ä¸‹ Docker ä¸€äº›åŸºæœ¬çš„å…ƒä»¶ï¼Œä»¥åŠ Dockerfile å’Œ docker compose å…©å€‹å·¥å…·ï¼Œè‘—é‡ä»‹ç´¹ä»–å€‘åˆ†åˆ¥è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Œå’Œå·¥å…·è§£æ±ºçš„å•é¡Œå ´æ™¯ã€ç™¼å±•è„ˆçµ¡ï¼Œæˆ‘èªç‚ºæœƒæ¯”ä»‹ç´¹æ–‡ä»¶è£¡é¢å·²ç¶“æœ‰çš„ä¸€å †æŒ‡ä»¤é‚„è¦ä¾†å¾—æœ‰å¹«åŠ©ï¼Œç•¢ç«Ÿå“ªå€‹å·¥ç¨‹å¸«ä¸æœƒæŸ¥æ–‡ä»¶ï¼Œæ˜¯å§ã€‚</p>
<p>å…¶å¯¦ Docker é€™å€‹ç³»åˆ—å¾ˆæ—©å°±æƒ³å¯«ï¼Œä½†ä¸€ç›´é›£ç”¢ï¼Œæ‹–åˆ°ä»Šå¤©ç¸½ç®—æ˜¯å¯«å®Œäº†ï¼Œæ„Ÿè¬ä½ çœ‹åˆ°é€™ï¼Œå¸Œæœ›æœ‰å¹«åˆ°ä½ ï¼Œæ°å•¦ï¼</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">å­¸ç¿’ç­†è¨˜</a>
   </li>
  
   <li class="list">
     <a href="/tags/backend" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">backend</a>
   </li>
  
   <li class="list">
     <a href="/tags/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">å¿ƒå¾—åˆ†äº«</a>
   </li>
  
</ul>
<script src="https://utteranc.es/client.js" repo="SZLforGithub/comment-utterances" issue-term="pathname"
      theme="github-light" crossorigin="anonymous" async></script>
  </div>

  <aside class="w-30-l mt6-l">
    









<div class="toc">

    <div class="page-header"><strong>ç›®éŒ„</strong></div>

    <div id="page-scrollspy" class="toc-nav">

        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%89%8d%e8%a8%80">
                            å‰è¨€
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker-%e4%b8%89%e5%a4%a7%e5%85%83%e7%b4%a0">
                            Docker ä¸‰å¤§å…ƒç´ 
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#image-%e9%8f%a1%e5%83%8f">
                            Image (é¡åƒ)
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#container">
                            Container
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#registry">
                            Registry
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e4%bd%bf%e7%94%a8%e6%b5%81%e7%a8%8b">
                            ä½¿ç”¨æµç¨‹
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#dockerfile">
                            Dockerfile
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%a6%82%e6%9e%9c%e6%b2%92%e6%9c%89-dockerfile">
                            å¦‚æœæ²’æœ‰ Dockerfile
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#dockerfile-%e5%a6%82%e4%bd%95%e6%8b%af%e6%95%91%e6%88%91%e5%80%91">
                            Dockerfile å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker-compose">
                            docker compose
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%a6%82%e6%9e%9c%e6%b2%92%e6%9c%89-docker-compose">
                            å¦‚æœæ²’æœ‰ docker compose
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#docker-compose-%e5%a6%82%e4%bd%95%e6%8b%af%e6%95%91%e6%88%91%e5%80%91">
                            docker compose å¦‚ä½•æ‹¯æ•‘æˆ‘å€‘
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                    </ul>
                    
                
            
        
        
            
                
                
                    
                    <ul class="nav">
                    
                    <ul class="nav">
                    
                    
                        <li class="nav-item">
                            <a class="nav-link text-left" href="#%e5%b0%8f%e7%b5%90">
                            å°çµ
                            </a>
                        </li>
                    
                    
                    </ul>
                    
                    </ul>
                    
                
            
        

    </div>

</div>







  

</aside>
</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://szlforgithub.github.io/" >
    &copy;  Louis's blog 2022 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>
  <script type="text/javascript" color="0,0,0" opacity="0.5" pointColor="0,100,0" count="30" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>


  </body>
</html>
